using System;
using System.Collections.Generic;
using System.Linq;
using System.Reflection;
using System.Threading.Tasks;
using Newtonsoft.Json;

namespace API.Model
{
    public class AddressHolder
    {
        public static List<Address3D> addresses;

        public static void ReadJson()
        {
            if (addresses == null)
            {
                var json = File.ReadAllText(Path.Combine(Assembly.GetExecutingAssembly().Location, "../wwwroot/static/address_3d.json"));
                addresses = JsonConvert.DeserializeObject<List<Address3D>>(json);
            }
        }
    }

    public class Address3D
    {
        public int? Id { get; set; }
        public string AddressId { get; set; }
        public string PositionTypeDescription { get; set; }
        public float LocationX { get; set; }
        public float LocationY { get; set; }
        public float TotalFront { get; set; }
        public float TotalDepth { get; set; }
        public float TotalHeight { get; set; }
        public int PickingAccess { get; set; }
        public Product[] Products { get; set; }
        public Layer[] Layers { get; set; }

        public AddressImage[] Images { get; set; }

    }

    public class Product
    {
        public string ProductId { get; set; }
        public string ProductDescriptionLong { get; set; }
    }

    public class AddressImage
    {
        public int Width { get; set; }
        public int Height { get; set; }
        public byte[] Bytes { get; set; }
    }

    public class Layer
    {
        public float Width { get; set; }
        public float Height { get; set; }
        public float X { get; set; }
        public float Y { get; set; }
        public Bin[] Bins { get; set; }


    }

    public class Bin
    {
        public float Width {get;set;}
        public float Height {get;set;}
        public float X {get;set;}
        public float Y {get;set;}
        public Product Product {get;set;}
        public AddressImage[] Images { get; set; }
    }
}
