import { Component, Input, OnInit, ViewChild } from '@angular/core';
import { DxDataGridComponent } from 'devextreme-angular';
import { AnalyzeService } from '../analyze.service';

@Component({
  selector: 'app-analyze-grid',
  templateUrl: './analyze-grid.component.html',
  styleUrls: ['./analyze-grid.component.scss'],
})
export class AnalyzeGridComponent implements OnInit {
  @Input() data: any;
  constructor(private service: AnalyzeService) {
    this.acceptSuggestion = this.acceptSuggestion.bind(this);
  }

  ngOnInit(): void {}

  deleteRow(e: any) {
    const dataGrid = e.component;
    dataGrid.deleteRow(e.row.rowIndex);
  }

  acceptSuggestion(e: any): void {
    const id = e.row.data.id;
    const pos = this.data.indexOf(
      this.data.find((item: any) => item.id === id)
    );

    this.data.splice(pos, 1);
  }
}
