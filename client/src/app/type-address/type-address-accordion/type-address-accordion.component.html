<div class="container">
  <cdk-accordion class="example-accordion">
    <cdk-accordion-item
      #accordionItem="cdkAccordionItem"
      class="example-accordion-item"
      role="button"
      tabindex="0"
      [attr.aria-expanded]="true"
    >
      <div
        class="example-accordion-item-header"
        (click)="accordionItem.toggle()"
      >
        Type Basic
        <span class="example-accordion-item-description">
          Click to {{ true ? "close" : "open" }}
        </span>
      </div>
      <div
        class="example-accordion-item-body"
        role="region"
        [style.display]="true ? '' : 'none'"
      >
        <div class="grid-layout">
          <div>
            <form
              class="ui form"
              (ngSubmit)="onSubmit()"
              [formGroup]="typeForm"
            >
              <div style="margin: 2.5%">
                <app-selection-dropdown
                  label="Type"
                  formControlName="type"
                  [dropdown]="type"
                >
                </app-selection-dropdown>
              </div>

              <app-text-input
                label="Description"
                type="text"
                formControlName="positionTypeDescription"
              ></app-text-input>

              <app-text-input
                label="Height (m)"
                type="number"
                formControlName="totalHeight"
              ></app-text-input>
              <app-text-input
                label="Width (m)"
                type="number"
                formControlName="totalFront"
              ></app-text-input>
              <app-text-input
                label="Length (m)"
                type="number"
                formControlName="totalDepth"
              ></app-text-input>
              <div style="margin: 2.5%">
                <div>
                  <label>Position color</label>
                </div>
                <div style="height: 80%; margin-bottom: 10px">
                  <input
                    disabled="true"
                    style="width: 20%"
                    [(ngModel)]="colorInHex"
                    [ngModelOptions]="{ standalone: true }"
                  />
                </div>
                <input
                  type="color"
                  style="width: 20%"
                  placeholder="Address Description"
                  formControlName="positionColor"
                />
              </div>
            </form>
          </div>
          <div>
            <app-type-address-view-unity
              (gameInstanceEvent)="setGameInstance($event)"
            ></app-type-address-view-unity>
          </div>
        </div>
      </div>
    </cdk-accordion-item>
  </cdk-accordion>
  <ng-container *ngIf="!isFloor">
    <cdk-accordion class="example-accordion">
      <cdk-accordion-item
        #accordionItem2="cdkAccordionItem"
        class="example-accordion-item"
        role="button"
        tabindex="0"
        [expanded]="false"
        [attr.aria-expanded]="accordionItem2.expanded"
      >
        <div
          class="example-accordion-item-header"
          (click)="accordionItem2.toggle()"
        >
          Layers
          <span class="example-accordion-item-description">
            Click to {{ accordionItem2.expanded ? "close" : "open" }}
          </span>
        </div>
        <div
          class="example-accordion-item-body"
          role="region"
          [style.display]="accordionItem2.expanded ? '' : 'none'"
        >
          <div class="grid-layout">
            <div>
              <form [formGroup]="typeForm" class="ui form">
                <div style="margin: 2.5%">
                  <app-selection-dropdown
                    label="Layer"
                    formControlName="layerDropdown"
                    [dropdown]="layerDropdown"
                  >
                  </app-selection-dropdown>
                </div>
                <app-text-input
                  [label]="'Layer Name'"
                  formControlName="layerName"
                  type="text"
                ></app-text-input>
                <app-text-input
                  [label]="'Total Height (m)'"
                  formControlName="totalHeightLayer"
                  type="number"
                ></app-text-input>
              </form>
            </div>
            <div>
              <p>Layer</p>
              <div class="div-layer-view" >
                <div
                  class="div-layer"
                  *ngFor="let layer of layers"
                  [style.height]="getDivLayerSize(layer.totalHeight).toString()"
                  [style.margin]="'10px'"
                >
                  <p>{{layer.layerName}}</p>
                </div>
              </div>
            </div>
          </div>

          <button class="ui button primary" (click)="addLayer()">
            Add Layer
          </button>
          <button class="ui button red" (click)="removeLayer()">
            Remove Layer
          </button>
        </div>
      </cdk-accordion-item>
      <cdk-accordion-item
        #accordionItem3="cdkAccordionItem"
        class="example-accordion-item"
        role="button"
        tabindex="0"
        [expanded]="false"
        [attr.aria-expanded]="accordionItem3.expanded"
      >
        <div
          class="example-accordion-item-header"
          (click)="accordionItem3.toggle()"
        >
          Bins
          <span class="example-accordion-item-description">
            Click to {{ accordionItem3.expanded ? "close" : "open" }}
          </span>
        </div>
        <div
          class="example-accordion-item-body"
          role="region"
          [style.display]="accordionItem3.expanded ? '' : 'none'"
        >
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Perferendis
          excepturi incidunt ipsum deleniti labore, tempore non nam doloribus
          blanditiis veritatis illo autem iure aliquid ullam rem tenetur
          deserunt velit culpa?
        </div>
      </cdk-accordion-item>
    </cdk-accordion>
  </ng-container>

  <button
    class="ui button primary space-between-file"
    style="margin-top: 1%"
    type="submit"
  >
    Save
  </button>
</div>
