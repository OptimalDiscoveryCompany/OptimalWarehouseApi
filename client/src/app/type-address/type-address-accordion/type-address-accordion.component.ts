import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { IDropdown } from 'src/app/shared/models/IDropdown';
import { IPositionTypeBin, IPositionTypeMaster } from 'src/app/shared/models/IPositionTypeBin';
import { TypeAddressService } from '../type-address.service';

@Component({
  selector: 'app-type-address-accordion',
  templateUrl: './type-address-accordion.component.html',
  styleUrls: ['./type-address-accordion.component.scss'],
})
export class TypeAddressAccordionComponent implements OnInit {
  typeForm!: FormGroup;
  
  type: IDropdown[] = [
    {
      text: 'Floor',
      value: 'Floor',
    },
    {
      text: 'Bin',
      value: 'Bin',
    },
    {
      text: 'Rack',
      value: 'Rack',
    },
  ];
  constructor(private typeAddressService: TypeAddressService,) {}

  ngOnInit(): void {
    this.initForm();
  }

  initForm(): void {
    this.typeForm = new FormGroup({
      type: new FormControl('Floor', []),
      positionTypeDescription: new FormControl('', []),
      totalHeight: new FormControl('0', []),
      totalFront: new FormControl('0', []),
      totalDepth: new FormControl('0', []),
      positionColor: new FormControl('', [])
    });
  }
    
    onSubmit(): void {
      const value = this.typeForm.value as IPositionTypeMaster;
        console.log(value);
        this.typeAddressService.savePositionType(value).subscribe();
      }

  handleClick() {}
}
