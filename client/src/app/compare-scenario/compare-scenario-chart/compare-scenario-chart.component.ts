import { Component, Input, OnInit, ViewChild } from '@angular/core';
import { DxDataGridComponent } from 'devextreme-angular';
import { ICompare, IGrossProduct } from 'src/app/shared/models/ICompare';
import {CompareScenarioService } from '../compare-scenario.service';

@Component({
  selector: 'app-compare-scenario-chart',
  templateUrl: './compare-scenario-chart.component.html',
  styleUrls: ['./compare-scenario-chart.component.scss'],
})
export class CompareScenarioChartComponent implements OnInit {
    grossProductData: IGrossProduct[];
    constructor(private service: CompareScenarioService) {
        this.grossProductData = service.getGrossProductData();
        console.log(this.grossProductData);
  }

  customizeTooltip(arg: any) {
    const seriesName = arg.seriesName;
    const valueText = arg.valueText;
    const data = arg.point.data;

    if (data.state === 'Travel Time (hh:mm)') {
      if (seriesName === 'indicators')
      { 
        return {
          text: '68:22'
        }
      }
      else if (seriesName === 'scenario1')
      { 
        return {
          text: '64:44'
        }
      }
      else
      { 
        return {
          text: '64:27'
        }
      }
    }
    else if (data.state === 'Congestion Index') {
      if (seriesName === 'indicators')
      { 
        return {
          text: '12%'
        }
      }
      else if (seriesName === 'scenario1')
      { 
        return {
          text: '2%'
        }
      }
      else
      { 
        return {
          text: '1%'
        }
      }
    }
    else if (data.state === 'Restocks - Pallets') {
      if (seriesName === 'indicators')
      { 
        return {
          text: '102'
        }
      }
      else if (seriesName === 'scenario1')
      { 
        return {
          text: '87'
        }
      }
      else
      { 
        return {
          text: '91'
        }
      }
    }
    else if (data.state === 'Restocks - Flowracks') {
      if (seriesName === 'indicators')
      { 
        return {
          text: '45'
        }
      }
      else if (seriesName === 'scenario1')
      { 
        return {
          text: '9'
        }
      }
      else
      { 
        return {
          text: '7'
        }
      }
    }
    else {
      if (seriesName === 'indicators')
      { 
        return {
          text: '22.3'
        }
      }
      else if (seriesName === 'scenario1')
      { 
        return {
          text: '19.8'
        }
      }
      else
      { 
        return {
          text: '20.1'
        }
      }
    }
  }

  customizeLabelIndicator(arg: any) {
    const seriesName = arg.seriesName;
    const valueText = arg.valueText;
    const data = arg.point.data;

    if (data.state === 'Travel Time (hh:mm)') {
        return'68:22'
    }
    else if (data.state === 'Congestion Index') { 
        return '12%'
    }
    else if (data.state === 'Restocks - Pallets') {
        return '102'
    }
    else if (data.state === 'Restocks - Flowracks') {
        return '45'
    }
    else {
        return '22.3'
    }
  }

  customizeLabelScenario1(arg: any) {
    const seriesName = arg.seriesName;
    const valueText = arg.valueText;
    const data = arg.point.data;

    if (data.state === 'Travel Time (hh:mm)') {
      return'64:44'
  }
  else if (data.state === 'Congestion Index') { 
      return '2%'
  }
  else if (data.state === 'Restocks - Pallets') {
      return '87'
  }
  else if (data.state === 'Restocks - Flowracks') {
      return '9'
  }
  else {
      return '19.8'
    }
  }

  customizeLabelScenario2(arg: any) {
    const seriesName = arg.seriesName;
    const valueText = arg.valueText;
    const data = arg.point.data;
    if (data.state === 'Travel Time (hh:mm)') {
      return'64:27'
  }
  else if (data.state === 'Congestion Index') { 
      return '1%'
  }
  else if (data.state === 'Restocks - Pallets') {
      return '91'
  }
  else if (data.state === 'Restocks - Flowracks') {
      return '7'
  }
  else {
      return '20.1'
    }
  }

    ngOnInit(): void { }
    
    onPointClick(e: { target: { select: () => void; }; }) {
        e.target.select();
      }
}
