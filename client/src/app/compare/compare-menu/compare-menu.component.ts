import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';
import { IDropdown } from 'src/app/shared/models/IDropdown';
import { CompareService } from '../compare.service';
import { ModalComparePercentBoxComponent } from '../modal-compare-percent-box/modal-compare-percent-box.component';

@Component({
  selector: 'app-compare-menu',
  templateUrl: './compare-menu.component.html',
  styleUrls: ['./compare-menu.component.scss'],
})
export class CompareMenuComponent implements OnInit {
  @Output() CompareEvent = new EventEmitter<any>();
  formAnalyzer!: FormGroup;
  shifts = new FormControl();
  packages = new FormControl();
  timeframe = new FormControl();
  productType = new FormControl();
  checkbox1 = new FormControl();
  checkbox2 = new FormControl();
  checkbox3 = new FormControl();
  checkbox4 = new FormControl();
  checkbox5 = new FormControl();

  divs: number[] = [];
  bsModalRef!: BsModalRef;
  
  createDiv(): void {
    this.divs.push(this.divs.length);
  }

  removeDiv(div: number): void {
    const index: number = this.divs.indexOf(div);
    if (index !== -1) {
        this.divs.splice(index, 1);
    }
  }

  // months: IDropdown[] = [
  //   {
  //     text: '3 Months',
  //     value: '3',
  //   },
  //   {
  //     text: '1 Month',
  //     value: '1',
  //   },
  //   {
  //     text: '2 Months',
  //     value: '2',
  //   },

  //   {
  //     text: '4 Months',
  //     value: '4',
  //   },
  //   {
  //     text: '5 Months',
  //     value: '5',
  //   },
  //   {
  //     text: '6 Months',
  //     value: '6',
  //   },
  //   {
  //     text: '7 Months',
  //     value: '7',
  //   },
  //   {
  //     text: '8 Months',
  //     value: '8',
  //   },
  //   {
  //     text: '9 Months',
  //     value: '9',
  //   },
  //   {
  //     text: '10 Months',
  //     value: '10',
  //   },
  //   {
  //     text: '11 Months',
  //     value: '11',
  //   },
  //   {
  //     text: '12 Months',
  //     value: '12',
  //   },
  // ];

  timeframeList = ['7 days', '30 days', '90 days', 'Last Year']
  // shifts: IDropdown[] = [
  //   {
  //     text: 'Shift 3',
  //     value: '3',
  //   },
  //   {
  //     text: 'Shift 1',
  //     value: '1',
  //   },
  //   {
  //     text: 'Shift 2',
  //     value: '2',
  //   },
  // ];
  packagesList = ['PET 250 ml to 450 ml', 'PET 500 ml to 1L', 'PET 1.25L to 1.75L', 'PET 2L', 'PET 3L', 'Cans 200 ml to 300 ml',
    'Cans 310 ml to 335 ml', 'Cans 400 ml to 475 ml', 'Returnables 190 ml to 350 ml', 'Returnables 500 ml', 'Returnables 1L', 'TetraPak 150 ml to 350 ml',
  'TetraPak 500 ml', 'TetraPak 1L'];
  shiftsList = ['Shift 1', 'Shift 2', 'Shift 3'];
  productTypeList = ['Carbonated Drinks', 'Juices', 'Sports Drinks', 'Teas', 'Water'];
  constructor(private CompareService: CompareService, private modalService: BsModalService) {}

  ngOnInit(): void {
    this.initForm();
  }

  openComparePercentBoxModal(): void {
    this.bsModalRef = this.modalService.show(ModalComparePercentBoxComponent, {
      class: 'modal-lg',
      initialState: {
        title: 'Percent or Box Quantity',
      },
    });
  }

  initForm(): void {
    this.formAnalyzer = new FormGroup({
      months: new FormControl('', []),
      shifts: new FormControl('', []),
    });
  }

  handleClick() {}
}
