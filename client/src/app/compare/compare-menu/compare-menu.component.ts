import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';
import { IDropdown } from 'src/app/shared/models/IDropdown';
import { CompareService } from '../compare.service';
import { ModalComparePercentBoxComponent } from '../modal-compare-percent-box/modal-compare-percent-box.component';

@Component({
  selector: 'app-compare-menu',
  templateUrl: './compare-menu.component.html',
  styleUrls: ['./compare-menu.component.scss'],
})
export class CompareMenuComponent implements OnInit {
  @Output() CompareEvent = new EventEmitter<any>();
  formAnalyzer!: FormGroup;
  shifts = new FormControl();
  months = new FormControl();
  divs: number[] = [];
  bsModalRef!: BsModalRef;
  createDiv(): void {
    this.divs.push(this.divs.length);
  }

  removeDiv(div: number): void {
    const index: number = this.divs.indexOf(div);
    if (index !== -1) {
        this.divs.splice(index, 1);
    }
  }
  monthsList = ['January', 'February ', 
  'March', 'April ', 'May ',
   'June ', 'July ', 'August',
    'September ', 'October ', 'November',
     'December ']

     
  shiftsList = ['Shift 1', 'Shift 2', 'Shift 3'];

  constructor(private CompareService: CompareService, private modalService: BsModalService) {}

  ngOnInit(): void {
    this.initForm();
  }

  initForm(): void {
    this.formAnalyzer = new FormGroup({
      months: new FormControl('', []),
      shifts: new FormControl('', []),
    });
  }

  openComparePercentBoxModal(): void {
    this.bsModalRef = this.modalService.show(ModalComparePercentBoxComponent, {
      class: 'modal-lg',
      initialState: {
        title: 'Percent or Box Quantity',
      },
    });
  }

  handleClick() {}
}
